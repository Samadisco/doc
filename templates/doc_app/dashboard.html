<!doctype html>
<html lang="en">
  <head>
    {% load static %}
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel&family=Montserrat&display=swap" rel="stylesheet">  

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  
  
    <title>Dashboard</title>
  </head>
  
  <body style="font-family: 'Montserrat', sans-serif;"; class="container mt-3 mb-2">
    <h1 style="font-family: 'Cinzel', serif; color:#345797"; class="text-center">Dashboard</h1>

 <div class="list-group mt-2">
 
  <a href="main" class="list-group-item list-group-item-action active d-flex justify-content-between align-items-center">
    Patient Profile <span class="badge badge-success badge-pill text-warning ">Done</span>
  </a>
  
  <a href="vitals" class=" mt-2 list-group-item list-group-item-action bg-warning d-flex justify-content-between align-items-center">Vitals
<span class="badge badge-primary badge-pill">Done</span>
  </li>
</a>
  <a href="case_history" class="mt-2 list-group-item list-group-item-action d-flex justify-content-between align-items-center ">Case History <span class="badge badge-success badge-pill text-warning ">Done</span></a>
  <a href="va" class="mt-2 list-group-item list-group-item-action d-flex justify-content-between align-items-center">Visual Acuity
    <span class="badge badge-primary text-primary">Done</span>
    </a>
  <!-- <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center ">Pupillary Test
 <span class="badge badge-success badge-pill text-warning ">Done</span>
</a>
   <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">IPD
 <span class="badge badge-success badge-pill text-warning ">Done</span>
</a>
 <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">CVFT
 <span class="badge badge-success badge-pill text-warning ">Done</span>
</a> -->
</div>
<div class="mt-3 d-grid gap-2">  
  <button id="submitAll_btn" onclick="submitAll()" style="background-color:#345797; color:white" class="btn all_field_prop" type="button">Submit All</button>
</div>



<form style="display: none" id="hidden_form" name="hidden_form" action="" method="post">
  {% csrf_token %}
  <input  id="vitals" type="text"  name="vitals">
  <input  id="case_history" type="text"  name="case_history">
  <input  id="patient_profile" type="text"  name="patient_profile">
  
  
</form>

 
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    
   
    <script>
      function submitAll() {
        console.log(sessionStorage.getItem('case_history'))
        console.log(sessionStorage.getItem('patient_va'))
        console.log(sessionStorage.getItem('vitals'))
        console.log(sessionStorage.getItem('patient_profile'))

        hidden_form = document.getElementById('hidden_form') //assigning the hidden form
        
        document.getElementById('vitals').value = sessionStorage.getItem('vitals')
        document.getElementById('case_history').value = sessionStorage.getItem('case_history')
        document.getElementById('patient_profile').value = sessionStorage.getItem('patient_profile')
        
        
        hidden_form.submit() // Submitting the hidden form programatically
    


        // Clearing all the session storage 
        sessionStorage.setItem('case_history','undefined')
        sessionStorage.setItem('patient_va','undefined')
        sessionStorage.setItem('vitals','undefined')
        sessionStorage.setItem('patient_profile','undefined')
       sessionStorage.clear()///////////////////////////////////

        
      }
    </script>
   


  </body>
</html>